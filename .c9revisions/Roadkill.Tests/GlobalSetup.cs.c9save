{"ts":1353421085255,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"﻿using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing Roadkill.Core;\r\nusing NUnit.Framework;\r\nusing System.IO;\r\nusing Roadkill.Core.Domain;\r\nusing Roadkill.Core.Configuration;\r\nusing System.Configuration;\r\n\r\n// NB no namespace, so this fixture setup is used for every class\r\n\r\npublic class GlobalSetup\r\n{\r\n\t/// <summary>\r\n\t/// Attempts to copy the correct SQL binaries to the bin folder for the architecture the app pool is running under.\r\n\t/// </summary>\r\n\t[TestFixtureSetUp]\r\n\tpublic void Init()\r\n\t{\r\n\t\t//\r\n\t\t// Copy the SQLite files over\r\n\t\t//\r\n\t\tstring rootFolder = AppDomain.CurrentDomain.BaseDirectory;\r\n\t\tstring sqliteFileSource = Path.Combine(rootFolder, \"lib\", \"SQLiteBinaries\", \"x86\", \"System.Data.SQLite.dll\");\r\n\t\tstring sqliteFileDest = Path.Combine(rootFolder, \"System.Data.SQLite.dll\");\r\n\t\tstring sqliteLinqFileSource = Path.Combine(rootFolder, \"lib\", \"SQLiteBinaries\", \"x86\", \"System.Data.SQLite.Linq.dll\");\r\n\t\tstring sqliteFileLinqDest = Path.Combine(rootFolder, \"System.Data.SQLite.Linq.dll\");\r\n\r\n\t\tif (Environment.Is64BitOperatingSystem && Environment.Is64BitProcess)\r\n\t\t{\r\n\t\t\tsqliteFileSource = Path.Combine(rootFolder, \"lib\", \"SQLiteBinaries\", \"x64\", \"System.Data.SQLite.dll\");\r\n\t\t\tsqliteLinqFileSource = Path.Combine(rootFolder, \"lib\", \"SQLiteBinaries\", \"x64\", \"System.Data.SQLite.Linq.dll\");\r\n\t\t}\r\n\r\n\t\tSystem.IO.File.Copy(sqliteFileSource, sqliteFileDest, true);\r\n\t\tSystem.IO.File.Copy(sqliteLinqFileSource, sqliteFileLinqDest, true);\r\n\t}\r\n}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1508}]],"length":1508}
{"contributors":[],"silentsave":false,"ts":1353421103879,"patch":[[{"diffs":[[-1,"﻿"],[0,"usin"]],"start1":0,"start2":0,"length1":5,"length2":4},{"diffs":[[0,"lass\r\n\r\n"],[1,"[SetUpFixture]\r\n"],[0,"public c"]],"start1":311,"start2":311,"length1":16,"length2":32},{"diffs":[[0,"tup\r\n{\r\n"],[-1,"\t"],[1,"    "],[0,"/// <sum"]],"start1":356,"start2":356,"length1":17,"length2":20},{"diffs":[[0,"\r\n\t["],[-1,"TestFixture"],[0,"SetU"]],"start1":516,"start2":516,"length1":19,"length2":8},{"diffs":[[0,"oid "],[-1,"Init"],[1,"BeforeAllTests"],[0,"()\r\n"]],"start1":537,"start2":537,"length1":12,"length2":22},{"diffs":[[0,";\r\n\t}\r\n}"],[-1,"\r\n"]],"start1":1515,"start2":1515,"length1":10,"length2":8}]],"length":1523,"saved":false}
