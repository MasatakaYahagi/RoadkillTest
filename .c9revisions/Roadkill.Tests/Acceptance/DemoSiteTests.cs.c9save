{"ts":1354887839698,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"ï»¿using System;\r\nusing System.Text;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing Roadkill.Core;\r\nusing Roadkill.Tests.Core;\r\nusing NUnit.Framework;\r\nusing System.IO;\r\n\r\nusing Plasma.Core;\r\nusing Plasma.WebDriver;\r\nusing OpenQA.Selenium;\r\nusing System.Diagnostics;\r\nusing HtmlAgilityPack;\r\nusing Fizzler.Systems.HtmlAgilityPack;\r\nusing SimpleBrowser.WebDriver;\r\n\r\nnamespace Roadkill.Tests.Acceptance\r\n{\r\n\t/// <summary>\r\n\t/// Homepage web tests using a headless browser (non-javascript interaction)\r\n\t/// </summary>\r\n\t[TestFixture]\r\n\t[Category(\"Acceptance\")]\r\n\t[Explicit]\r\n\tpublic class DemoSiteTests\r\n\t{\r\n\t\tprivate SimpleBrowserDriver _driver;\r\n\t\tprivate string _baseUrl;\r\n\r\n\t\t[SetUp]\r\n\t\tpublic void Setup()\r\n\t\t{\r\n\t\t\t_baseUrl = \"http://roadkill.apphb.com\";\r\n\t\t\t_driver = new SimpleBrowserDriver();\r\n\t\t\t_driver.Navigate().GoToUrl(_baseUrl);\r\n\t\t}\r\n\r\n\t\t[Test]\r\n\t\tpublic void ShouldHave_HeaderTitle()\r\n\t\t{\r\n\t\t\tIWebElement h1Element = _driver.FindElement(By.CssSelector(\"h1\"));\r\n\t\t\tAssert.That(h1Element.Text, Is.EqualTo(\"Homepage\"));\r\n\t\t}\r\n\r\n\t\t[Test]\r\n\t\tpublic void ShouldHave_Title()\r\n\t\t{\r\n\t\t\tIWebElement title = _driver.FindElement(By.CssSelector(\"title\"));\r\n\t\t\tAssert.That(title.Text, Is.EqualTo(\"Homepage\"));\r\n\t\t}\r\n\r\n\t\t[Test]\r\n\t\tpublic void ShouldHave_LeftMenu()\r\n\t\t{\r\n\t\t\tIEnumerable<IWebElement> leftmenu = _driver.FindElements(By.CssSelector(\"div#leftmenu li\"));\r\n\t\t\tAssert.That(leftmenu.Count(), Is.EqualTo(3));\r\n\t\t}\r\n\r\n\t\t[Test]\r\n\t\tpublic void ShouldHave_HistoryLink()\r\n\t\t{\r\n\t\t\tIWebElement title = _driver.FindElement(By.CssSelector(\"div#viewhistory a\"));\r\n\t\t\tAssert.That(title.Text, Is.EqualTo(\"View History\"));\r\n\t\t}\r\n\r\n\t\t[Test]\r\n\t\tpublic void ShouldHave_LoginLink()\r\n\t\t{\r\n\t\t\tIWebElement title = _driver.FindElement(By.CssSelector(\"span#loggedinas a\"));\r\n\t\t\tAssert.That(title.Text, Is.EqualTo(\"Login\"));\r\n\t\t\tAssert.That(title.GetAttribute(\"href\"), Is.EqualTo(\"/user/login\"));\r\n\t\t}\r\n\t}\r\n}\r\n"]],"start1":0,"start2":0,"length1":0,"length2":1908}]],"length":1908}
