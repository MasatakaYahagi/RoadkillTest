@{
	MvcHtmlString activeCss = MvcHtmlString.Create(" class=\"active\"");
	MvcHtmlString nav1Active = activeCss;
	MvcHtmlString nav2Active = MvcHtmlString.Empty;
	MvcHtmlString nav3Active = MvcHtmlString.Empty;
	MvcHtmlString nav4Active = MvcHtmlString.Empty;
	MvcHtmlString nav5Active = MvcHtmlString.Empty;
	
	// Highlight the currently selected page using the CSS class and some viewdata
	if (ViewData["UsersActive"] !=  null)
	{
		nav1Active = MvcHtmlString.Empty;
		nav2Active = activeCss;
		nav3Active = MvcHtmlString.Empty;
		nav4Active = MvcHtmlString.Empty;
		nav5Active = MvcHtmlString.Empty;		
	}
	else if (ViewData["ToolsActive"] != null)
	{
		nav1Active = MvcHtmlString.Empty;
		nav2Active = MvcHtmlString.Empty;
		nav3Active = activeCss;
		nav4Active = MvcHtmlString.Empty;
		nav5Active = MvcHtmlString.Empty;		
	}
	else if (ViewData["CacheActive"] != null)
	{
		nav1Active = MvcHtmlString.Empty;
		nav2Active = MvcHtmlString.Empty;
		nav3Active = MvcHtmlString.Empty;
		nav4Active = activeCss;
		nav5Active = MvcHtmlString.Empty;
	}
	else if (ViewData["PluginSettingsActive"] != null)
	{
		nav1Active = MvcHtmlString.Empty;
		nav2Active = MvcHtmlString.Empty;
		nav3Active = MvcHtmlString.Empty;
		nav4Active = MvcHtmlString.Empty;
		nav5Active = activeCss;
	}
}

<div class="navbar">
	<div class="navbar-inner">
		<ul class="nav">
			<li@(nav1Active)>@Html.ActionLink(SiteStrings.SiteSettings_Configuration, "Index", "Settings")</li>
			<li@(nav2Active)>@Html.ActionLink(SiteStrings.SiteSettings_Users, "Users", "Settings")</li>
			<li@(nav3Active)>@Html.ActionLink(SiteStrings.SiteSettings_Tools, "Tools", "Settings")</li>
			<li@(nav4Active)>@Html.ActionLink(SiteStrings.SiteSettings_Configuration_ObjectCaching, "Cache", "Settings")</li>
			<li@(nav5Active)>@Html.ActionLink(SiteStrings.SiteSettings_Plugins_Title, "Index", "PluginSettings")</li>
		</ul>
	</div>
</div>